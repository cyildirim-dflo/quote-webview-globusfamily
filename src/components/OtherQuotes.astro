---
import { fetchQuotesByGroupId } from "../utils/api";
interface Props {
    quoteGroupId: string;
}

const { quoteGroupId } = Astro.props as Props;
const quotesInTheGroup = await fetchQuotesByGroupId(quoteGroupId);
---

<div class="w-full">
    <h2 class="text-2xl font-bold">Other Quotes</h2>
    <div class="w-full flex flex-row">
        {
            quotesInTheGroup.map((quote) => (
                <div class="w-1/4 p-2">
                    <a href={`/quotes/${quote.id}`} class="text-white">
                        <div class="bg-primary-950 p-4 ">
                            <h3 class="text-xl font-bold">
                                {quote.sections[0].description}
                            </h3>
                            <p class="text-sm">{quote.dflo.travelDetails.pricing.sellingPrice}</p>
                            <span>Qoute Reference: {quote.id}</span>
                        </div>
                    </a>
                </div>
            ))
        }
    </div>
</div>
